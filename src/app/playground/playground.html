<div class="container mx-auto p-4 sm:p-8">
  {{ newTime() }}
  <!-- <h1 class="text-2xl sm:text-3xl font-bold mb-6 text-center text-gray-800">
    Responsive YouTube Video Embed
  </h1> -->

  <!-- <div class="max-w-3xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden"> -->
  <!-- 
              Responsive Container:
              - 'aspect-video' sets a 16:9 aspect ratio.
              - 'w-full' makes it take the full width of its parent.
              - The container will automatically adjust its height to maintain the aspect ratio.
            -->
  <!-- <div class="aspect-video w-full"> -->
  <!-- 
                  YouTube Iframe:
                  - 'w-full' and 'h-full' make the iframe fill the parent container.
                  - 'rounded-lg' (on parent) gives it nice corners.
                -->
  <!-- <app-video-player class="w-full h-full"></app-video-player> -->
  <!-- </div> -->
  <!-- </div> -->
  <div class="max-w-xl mx-auto">
    <app-youtube-embed
      #myPlayer
      [videoId]="youtubeId"
      [playbackOption]="selectedOption"
      [jumpLength]="lengthOption"
      [seekTo]="inputNumber"
      (ready)="onPlayerReady($event)"
      (stateChange)="onPlayerStateChange($event)"
      (focusRequest)="onFocusRequested()"
      (messageEvent)="handleChildMessage($event)"
      (updatedTime)="handleUpdatedTime($event)"
      (evKeydown)="handleKeydownEvent($event)"
      suggestedQuality="default"
    ></app-youtube-embed>
  </div>

  <mat-slider
    id="zuul"
    class="block w-full"
    min="0"
    max="{{ videoDuration }}"
    step="0.1"
    showTickMarks
    discrete
    [displayWith]="formatLabel"
  >
    <input matSliderThumb [value]="sliderValue()" (valueChange)="onSliderChange($event)" />
  </mat-slider>
  <div>{{ inputNumber }}</div>
  <div class="p-6 bg-sky-100">
    <div #parentContainer tabindex="-1" (focus)="onParentFocus()">
      <!-- <h3>Parent Component</h3> -->
    </div>
    <!-- <div class="p-10 bg-sky-800 text-white font-mono text-2xl mb-4">Playground:</div> -->
    <!-- <div class="p-10 bg-sky-800 text-white font-mono text-xl mb-4">{{ videoTitle }}</div> -->
    <!-- <div class="p-12 text-4xl">{{ videoCurrentTime }}</div> -->
    <!-- <div class="mt-4 ml-10">
    <label class="block text-sm font-medium text-slate-700 mb-1">Playback Option</label>
    <select
      [(ngModel)]="selectedOption"
      (ngModelChange)="onOptionChange($event)"
      class="block w-48 p-2 border border-slate-300 rounded-md bg-white text-slate-900 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-400"
    >
      <option value="default">Default</option>
      <option value="high">High Quality</option>
      <option value="low">Low Quality</option>
    </select>
  </div> -->

    <div>
      <!-- <h1>Playground - </h1> -->
      <mat-card>
        <!-- <mat-card class="example-card" appearance="outlined"> -->
        <mat-card-header>
          <div mat-card-avatar class="example-header-image"></div>
          <mat-card-title>
            <div class="card-title">{{ videoTitle }}</div>
          </mat-card-title>
          <mat-card-subtitle>
            <p>
              Video Duration:
              {{ videoDuration ? (videoDuration / 60).toFixed(2) + ' minutes' : 'Loading...' }}
            </p></mat-card-subtitle
          >
          <!-- <mat-card-subtitle>Dog Breed</mat-card-subtitle> -->
        </mat-card-header>
        <!-- <img
        mat-card-image
        src="https://material.angular.dev/assets/img/examples/shiba2.jpg"
        alt="Photo of a Shiba Inu"
      /> -->

        <!-- class="responsive-iframe" -->
        <!--  -->

        <mat-card-content class="video-card">
          <p>
            <!-- The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from
          Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was
          originally bred for hunting. -->
          </p>
        </mat-card-content>
        <mat-card-actions>
          <button matButton>LIKE</button>
          <button matButton>SHARE</button>
          <mat-form-field>
            <mat-label>Skip length</mat-label>
            <!-- <mat-select [value]="selectedItem()" (selectionChange)="onSelectionChange($event.value)"> -->
            <mat-select [(ngModel)]="lengthOption" (ngModelChange)="onOptionChange($event)">
              <mat-option [value]="0.1">0.1 second </mat-option>
              <mat-option [value]="0.5">0.5 second</mat-option>
              <mat-option [value]="1">1 second</mat-option>
              <mat-option [value]="5">5 seconds</mat-option>
            </mat-select>
          </mat-form-field>

          <!-- <div class="mt-4 ml-10">
          <label class="block text-sm font-medium text-slate-700 mb-1">Skip Length</label>
          <select
            [(ngModel)]="lengthOption"
            (ngModelChange)="onOptionChange($event)"
            class="block w-48 p-2 border border-slate-300 rounded-md bg-white text-slate-900 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-400"
          >
            <option value="0.1">.1 second</option>
            <option value="0.5">.5 second</option>
            <option value="1">1 second</option>
            <option value="5">5 seconds</option>
          </select>
        </div> -->
        </mat-card-actions>
      </mat-card>
      <!-- <app-youtube-embed
      #myPlayer
      [videoId]="youtubeId"
      [playbackOption]="selectedOption"
      [jumpLength]="lengthOption"
      (ready)="onPlayerReady($event)"
      (stateChange)="onPlayerStateChange($event)"
      (focusRequest)="onFocusRequested()"
      suggestedQuality="default"
      height="360"
      width="640"
    ></app-youtube-embed> -->

      <p>Set Start: {{ inputNumber }}</p>
      <input
        type="number"
        [(ngModel)]="inputNumber"
        (ngModelChange)="onValueChange($event)"
        class="ml-10 p-2 border border-slate-400 rounded-lg focus:outline-none focus:border-indigo-500"
      />
    </div>
    <button
      class="w-40 text-center ml-10 mt-5 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg shadow"
      (click)="onSetStart()"
    >
      Start Loop
    </button>

    <!-- <mat-slider min="0" max="100000" step="1000" showTickMarks discrete [displayWith]="formatLabel"> -->
    <!-- <mat-slider
      min="0"
      max="{{ videoDuration }}"
      step="0.1"
      showTickMarks
      discrete
      [displayWith]="formatLabel"
    >
      <input matSliderThumb [value]="sliderValue()" (valueChange)="onSliderChange($event)" />
    </mat-slider> -->

    <!-- Add this to see the slider value -->
    <p class="mt-4">Slider Value: {{ sliderValue() }}</p>
  </div>

  <p>Current Counter: {{ inputSignal() }}</p>

  <button
    class="w-20 text-center ml-10 mt-5 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg shadow"
    (click)="onButtonClick()"
  >
    {{ counter() }}
  </button>
</div>
